<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hotel Menu UI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b1220;
      --card:#0f1a2f;
      --card2:#0c1528;
      --text:#e8eefc;
      --muted:#a9b6d8;
      --primary:#7c3aed;    /* violet */
      --primary2:#22c55e;   /* green */
      --danger:#ef4444;
      --line:rgba(255,255,255,.08);
      --shadow: 0 18px 45px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(900px 600px at 18% 10%, rgba(124,58,237,.35), transparent 60%),
        radial-gradient(900px 600px at 90% 80%, rgba(34,197,94,.25), transparent 55%),
        var(--bg);
      color:var(--text);
      min-height:100svh;
    }

    /* Layout */
    .wrap{
      width:min(1200px,94vw);
      margin:22px auto;
      display:grid;
      grid-template-columns: 1.55fr .85fr;
      gap:16px;
      align-items:start;
    }
    @media (max-width: 980px){
      .wrap{grid-template-columns:1fr; }
      .cart{ position:static !important; }
    }

    /* Header */
    header{
      width:min(1200px,94vw);
      margin:18px auto 0;
      display:flex;
      gap:12px;
      justify-content:space-between;
      align-items:flex-start;
    }
    .brand{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .brand h1{
      margin:0;
      font-size:clamp(22px,3.2vw,34px);
      line-height:1.1;
      font-weight:800;
      letter-spacing:.2px;
    }
    .brand p{
      margin:0;
      color:var(--muted);
      font-size:13px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      border-radius:999px;
      box-shadow: 0 10px 25px rgba(0,0,0,.18);
    }

    /* Controls */
    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
    }
    .input, .select, .btn{
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      color:var(--text);
      padding:10px 12px;
      font-size:14px;
      outline:none;
      transition:transform .06s ease, background .2s ease, border-color .2s ease;
    }
    .input{ width:min(320px,58vw); }
    .select{ padding:10px 12px; cursor:pointer; }
    .btn{
      cursor:pointer;
      font-weight:700;
      box-shadow: 0 10px 20px rgba(0,0,0,.18);
      user-select:none;
    }
    .btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.06); }
    .btn.primary{
      background:linear-gradient(135deg, rgba(124,58,237,.95), rgba(34,197,94,.75));
      border-color:rgba(255,255,255,.14);
    }
    .toggle{
      display:flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:999px;
      background:rgba(255,255,255,.04);
      font-size:13px;
      color:var(--muted);
      user-select:none;
    }
    .toggle input{ accent-color: var(--primary2); }

    /* Panels */
    .panel{
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .panel .head{
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom:1px solid var(--line);
      background:rgba(255,255,255,.03);
    }
    .panel .head h2{
      margin:0;
      font-size:16px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .panel .head .small{
      font-size:12px;
      color:var(--muted);
    }

    /* Category chips */
    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      padding:12px 14px;
      border-bottom:1px solid var(--line);
      background:rgba(0,0,0,.06);
    }
    .chip{
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--text);
      padding:8px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:700;
      font-size:13px;
      transition:transform .06s ease, background .2s ease, border-color .2s ease;
      user-select:none;
    }
    .chip:hover{ transform:translateY(-1px); }
    .chip.active{
      border-color:rgba(124,58,237,.7);
      background:rgba(124,58,237,.18);
    }

    /* Menu grid */
    .grid{
      padding:14px;
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:12px;
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: 1fr; }
    }
    .item{
      background:rgba(255,255,255,.03);
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px;
      display:flex;
      gap:12px;
      align-items:flex-start;
      transition:transform .06s ease, background .2s ease, border-color .2s ease;
    }
    .item:hover{
      transform:translateY(-1px);
      background:rgba(255,255,255,.05);
      border-color:rgba(255,255,255,.14);
    }
    .thumb{
      width:56px; height:56px;
      border-radius:14px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), transparent 60%),
        linear-gradient(135deg, rgba(124,58,237,.35), rgba(34,197,94,.25));
      border:1px solid rgba(255,255,255,.10);
      flex:0 0 auto;
      display:grid;
      place-items:center;
      font-weight:900;
      color:rgba(255,255,255,.9);
    }
    .meta{ flex:1; }
    .name{
      display:flex;
      align-items:center;
      gap:8px;
      margin:0;
      font-weight:800;
      font-size:14px;
      line-height:1.2;
    }
    .tag{
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--line);
      color:var(--muted);
      background:rgba(255,255,255,.02);
    }
    .desc{
      margin:6px 0 10px;
      font-size:12px;
      color:var(--muted);
      line-height:1.35;
    }
    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    .price{
      font-weight:900;
      letter-spacing:.2px;
    }
    .veg{
      border-color:rgba(34,197,94,.55);
      color:#bdf7cd;
      background:rgba(34,197,94,.10);
    }
    .nonveg{
      border-color:rgba(239,68,68,.55);
      color:#ffd0d0;
      background:rgba(239,68,68,.10);
    }
    .add{
      background:rgba(34,197,94,.16);
      border-color:rgba(34,197,94,.45);
      color:#d7ffe2;
      padding:8px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
      font-size:12px;
      user-select:none;
      transition:transform .06s ease, background .2s ease;
    }
    .add:hover{ transform:translateY(-1px); background:rgba(34,197,94,.22); }

    /* Cart */
    .cart{
      position:sticky;
      top:14px;
    }
    .cartBody{ padding:12px 14px; }
    .mode{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .modeBtn{
      flex:1;
      text-align:center;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      cursor:pointer;
      font-weight:800;
      font-size:13px;
      user-select:none;
    }
    .modeBtn.active{
      border-color:rgba(124,58,237,.75);
      background:rgba(124,58,237,.18);
    }
    .two{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .field label{
      display:block;
      font-size:11px;
      color:var(--muted);
      margin:0 0 6px 6px;
    }
    .field input{
      width:100%;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      padding:10px 12px;
      color:var(--text);
      outline:none;
    }

    .cartList{
      margin-top:12px;
      border-top:1px dashed rgba(255,255,255,.12);
      padding-top:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height:340px;
      overflow:auto;
    }
    .cartItem{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      border-radius:14px;
    }
    .cartItem .title{
      margin:0;
      font-weight:900;
      font-size:13px;
      line-height:1.2;
    }
    .cartItem .sub{
      margin:4px 0 0;
      font-size:12px;
      color:var(--muted);
    }
    .qty{
      margin-left:auto;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .qbtn{
      width:30px; height:30px;
      border-radius:10px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
    }
    .qnum{ min-width:18px; text-align:center; font-weight:900; }
    .remove{
      margin-left:6px;
      background:rgba(239,68,68,.14);
      border-color:rgba(239,68,68,.40);
      color:#ffd0d0;
    }

    .summary{
      margin-top:12px;
      border-top:1px dashed rgba(255,255,255,.12);
      padding-top:12px;
      display:flex;
      flex-direction:column;
      gap:8px;
      font-size:13px;
    }
    .sumRow{
      display:flex;
      justify-content:space-between;
      color:var(--muted);
    }
    .sumRow strong{ color:var(--text); }
    .checkout{
      margin-top:12px;
      display:flex;
      gap:10px;
    }
    .checkout .btn{
      flex:1;
      border-radius:14px;
      padding:12px 14px;
      font-weight:900;
    }
    .btn.danger{
      background:rgba(239,68,68,.14);
      border-color:rgba(239,68,68,.35);
      color:#ffd0d0;
    }
    .empty{
      color:var(--muted);
      font-size:13px;
      padding:14px 8px 4px;
      text-align:center;
    }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform:translateX(-50%);
      background:rgba(10,16,28,.85);
      border:1px solid rgba(255,255,255,.10);
      color:var(--text);
      padding:10px 14px;
      border-radius:999px;
      box-shadow: 0 18px 45px rgba(0,0,0,.35);
      opacity:0;
      pointer-events:none;
      transition:opacity .25s ease, transform .25s ease;
      font-size:13px;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(-4px);
    }
  </style>
</head>

<body>
  <header>
    <div class="brand">
      <h1>üçΩÔ∏è The Royale Hotel ‚Äî Menu</h1>
      <p>Browse dishes, add to cart, and generate a bill (UI demo).</p>
    </div>

    <div class="controls">
      <input id="search" class="input" placeholder="Search dishes (e.g., dosa, paneer, coffee)..." />
      <label class="toggle">
        <input id="vegOnly" type="checkbox" />
        Veg only
      </label>
      <button id="resetBtn" class="btn">Reset</button>
      <button id="demoBtn" class="btn primary">Add Demo Items</button>
    </div>
  </header>

  <div class="wrap">
    <!-- MENU PANEL -->
    <section class="panel">
      <div class="head">
        <h2>Menu</h2>
        <div class="small"><span id="countLabel">0</span> items shown</div>
      </div>

      <div class="chips" id="chips"></div>
      <div class="grid" id="menuGrid"></div>
    </section>

    <!-- CART PANEL -->
    <aside class="panel cart" aria-live="polite">
      <div class="head">
        <h2>üßæ Cart & Bill</h2>
        <div class="small"><span id="cartCount">0</span> items</div>
      </div>

      <div class="cartBody">
        <div class="mode" role="tablist" aria-label="order type">
          <div class="modeBtn active" data-mode="Dine-in">Dine-in</div>
          <div class="modeBtn" data-mode="Takeaway">Takeaway</div>
        </div>

        <div class="two">
          <div class="field">
            <label id="tableLabel">Table No.</label>
            <input id="tableRoom" placeholder="e.g., 12" />
          </div>
          <div class="field">
            <label>Customer Name</label>
            <input id="customerName" placeholder="e.g., Rahul" />
          </div>
        </div>

        <div id="cartList" class="cartList"></div>
        <div id="empty" class="empty">Your cart is empty. Add items from the menu ‚ú®</div>

        <div class="summary">
          <div class="sumRow"><span>Subtotal</span> <strong id="subTotal">‚Çπ0</strong></div>
          <div class="sumRow"><span>GST (5%)</span> <strong id="gst">‚Çπ0</strong></div>
          <div class="sumRow"><span>Service (7%)</span> <strong id="service">‚Çπ0</strong></div>
          <div class="sumRow"><span>Total</span> <strong id="grandTotal">‚Çπ0</strong></div>
        </div>

        <div class="checkout">
          <button id="clearBtn" class="btn danger">Clear</button>
          <button id="printBtn" class="btn primary">Generate Bill</button>
        </div>

        <p style="margin:12px 0 0;color:var(--muted);font-size:11px;">
          Tip: Try search + category filters. Works great on mobile too.
        </p>
      </div>
    </aside>
  </div>

  <div id="toast" class="toast">Added to cart ‚úÖ</div>

  <script>
    // --------- DATA (Sample Hotel Menu) ----------
    const MENU = [
      { id:"b1", name:"Masala Dosa", price:90,  cat:"Breakfast", veg:true,  desc:"Crispy dosa with spiced potato filling." },
      { id:"b2", name:"Idli Vada Combo", price:80, cat:"Breakfast", veg:true,  desc:"Soft idlis + vada with sambar & chutney." },
      { id:"b3", name:"Upma", price:65,        cat:"Breakfast", veg:true,  desc:"Classic south-style upma, light & tasty." },
      { id:"b4", name:"Egg Omelette", price:70,cat:"Breakfast", veg:false, desc:"Fluffy omelette with herbs." },

      { id:"l1", name:"Veg Thali", price:160,  cat:"Lunch", veg:true,  desc:"Roti, rice, 2 curries, dal, salad, sweet." },
      { id:"l2", name:"Paneer Butter Masala", price:190, cat:"Lunch", veg:true,  desc:"Creamy paneer gravy, best with naan." },
      { id:"l3", name:"Chicken Biryani", price:220, cat:"Lunch", veg:false, desc:"Aromatic basmati with tender chicken." },
      { id:"l4", name:"Dal Fry + Jeera Rice", price:150, cat:"Lunch", veg:true,  desc:"Comfort meal combo." },

      { id:"d1", name:"Tandoori Roti (2 pcs)", price:40, cat:"Dinner", veg:true,  desc:"Fresh hot rotis." },
      { id:"d2", name:"Butter Naan (2 pcs)", price:60,   cat:"Dinner", veg:true,  desc:"Soft naan brushed with butter." },
      { id:"d3", name:"Fish Fry", price:240,   cat:"Dinner", veg:false, desc:"Crispy marinated fish fillet." },
      { id:"d4", name:"Veg Fried Rice", price:150, cat:"Dinner", veg:true, desc:"Wok-tossed rice with veggies." },

      { id:"dr1", name:"Filter Coffee", price:40, cat:"Drinks", veg:true, desc:"Strong South Indian filter coffee." },
      { id:"dr2", name:"Fresh Lime Soda", price:55, cat:"Drinks", veg:true, desc:"Sweet/salted - refreshing!" },
      { id:"dr3", name:"Mango Milkshake", price:85, cat:"Drinks", veg:true, desc:"Thick & creamy mango shake." },
      { id:"dr4", name:"Mineral Water", price:20, cat:"Drinks", veg:true, desc:"500 ml bottle." }
    ];

    const CATEGORIES = ["All", ...new Set(MENU.map(x => x.cat))];

    // --------- STATE ----------
    let activeCat = "All";
    let cart = {}; // {id: qty}
    let mode = "Dine-in";

    // --------- DOM ----------
    const chipsEl = document.getElementById("chips");
    const gridEl = document.getElementById("menuGrid");
    const countLabel = document.getElementById("countLabel");
    const searchEl = document.getElementById("search");
    const vegOnlyEl = document.getElementById("vegOnly");
    const resetBtn = document.getElementById("resetBtn");
    const demoBtn = document.getElementById("demoBtn");

    const cartListEl = document.getElementById("cartList");
    const emptyEl = document.getElementById("empty");
    const cartCountEl = document.getElementById("cartCount");

    const subTotalEl = document.getElementById("subTotal");
    const gstEl = document.getElementById("gst");
    const serviceEl = document.getElementById("service");
    const grandTotalEl = document.getElementById("grandTotal");

    const clearBtn = document.getElementById("clearBtn");
    const printBtn = document.getElementById("printBtn");

    const modeBtns = Array.from(document.querySelectorAll(".modeBtn"));
    const tableLabel = document.getElementById("tableLabel");
    const tableRoomEl = document.getElementById("tableRoom");
    const customerNameEl = document.getElementById("customerName");

    const toast = document.getElementById("toast");

    // --------- HELPERS ----------
    const money = n => "‚Çπ" + Math.round(n).toLocaleString("en-IN");

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 1100);
    }

    function getFilteredMenu(){
      const q = searchEl.value.trim().toLowerCase();
      const vegOnly = vegOnlyEl.checked;

      return MENU.filter(item => {
        const matchCat = (activeCat === "All") || (item.cat === activeCat);
        const matchVeg = !vegOnly || item.veg;
        const matchQ = !q || (item.name.toLowerCase().includes(q) || item.desc.toLowerCase().includes(q));
        return matchCat && matchVeg && matchQ;
      });
    }

    // --------- RENDER: CATEGORY CHIPS ----------
    function renderChips(){
      chipsEl.innerHTML = "";
      CATEGORIES.forEach(cat => {
        const chip = document.createElement("button");
        chip.className = "chip" + (cat === activeCat ? " active" : "");
        chip.textContent = cat;
        chip.addEventListener("click", () => {
          activeCat = cat;
          renderChips();
          renderMenu();
        });
        chipsEl.appendChild(chip);
      });
    }

    // --------- RENDER: MENU GRID ----------
    function renderMenu(){
      const list = getFilteredMenu();
      countLabel.textContent = list.length;

      gridEl.innerHTML = "";
      list.forEach(item => {
        const card = document.createElement("div");
        card.className = "item";

        const thumb = document.createElement("div");
        thumb.className = "thumb";
        thumb.textContent = item.cat[0];

        const meta = document.createElement("div");
        meta.className = "meta";

        const name = document.createElement("p");
        name.className = "name";
        name.innerHTML = `${item.name} <span class="tag ${item.veg ? "veg" : "nonveg"}">${item.veg ? "Veg" : "Non‚Äëveg"}</span>`;

        const desc = document.createElement("p");
        desc.className = "desc";
        desc.textContent = item.desc;

        const row = document.createElement("div");
        row.className = "row";

        const price = document.createElement("div");
        price.className = "price";
        price.textContent = money(item.price);

        const add = document.createElement("button");
        add.className = "add";
        add.textContent = "Add +";
        add.addEventListener("click", () => addToCart(item.id));

        row.appendChild(price);
        row.appendChild(add);

        meta.appendChild(name);
        meta.appendChild(desc);
        meta.appendChild(row);

        card.appendChild(thumb);
        card.appendChild(meta);

        gridEl.appendChild(card);
      });
    }

    // --------- CART OPS ----------
    function addToCart(id){
      cart[id] = (cart[id] || 0) + 1;
      renderCart();
      showToast("Added to cart ‚úÖ");
    }

    function decQty(id){
      if(!cart[id]) return;
      cart[id] -= 1;
      if(cart[id] <= 0) delete cart[id];
      renderCart();
    }

    function incQty(id){
      cart[id] = (cart[id] || 0) + 1;
      renderCart();
    }

    function removeItem(id){
      delete cart[id];
      renderCart();
    }

    function clearCart(){
      cart = {};
      renderCart();
      showToast("Cart cleared üßπ");
    }

    function calcTotals(){
      let subtotal = 0;
      Object.entries(cart).forEach(([id, qty]) => {
        const item = MENU.find(x => x.id === id);
        subtotal += item.price * qty;
      });
      const gst = subtotal * 0.05;
      const service = subtotal * 0.07;
      const total = subtotal + gst + service;
      return { subtotal, gst, service, total };
    }

    // --------- RENDER: CART ----------
    function renderCart(){
      const entries = Object.entries(cart);
      cartCountEl.textContent = entries.reduce((a,[,q]) => a+q, 0);

      cartListEl.innerHTML = "";
      if(entries.length === 0){
        emptyEl.style.display = "block";
      } else {
        emptyEl.style.display = "none";
      }

      entries.forEach(([id, qty]) => {
        const item = MENU.find(x => x.id === id);

        const c = document.createElement("div");
        c.className = "cartItem";

        const left = document.createElement("div");
        const title = document.createElement("p");
        title.className = "title";
        title.textContent = item.name;

        const sub = document.createElement("p");
        sub.className = "sub";
        sub.textContent = `${money(item.price)} √ó ${qty} = ${money(item.price * qty)}`;

        left.appendChild(title);
        left.appendChild(sub);

        const qtyWrap = document.createElement("div");
        qtyWrap.className = "qty";

        const minus = document.createElement("button");
        minus.className = "qbtn";
        minus.textContent = "‚àí";
        minus.addEventListener("click", () => decQty(id));

        const num = document.createElement("div");
        num.className = "qnum";
        num.textContent = qty;

        const plus = document.createElement("button");
        plus.className = "qbtn";
        plus.textContent = "+";
        plus.addEventListener("click", () => incQty(id));

        const rem = document.createElement("button");
        rem.className = "qbtn remove";
        rem.textContent = "‚úï";
        rem.title = "Remove";
        rem.addEventListener("click", () => removeItem(id));

        qtyWrap.appendChild(minus);
        qtyWrap.appendChild(num);
        qtyWrap.appendChild(plus);
        qtyWrap.appendChild(rem);

        c.appendChild(left);
        c.appendChild(qtyWrap);
        cartListEl.appendChild(c);
      });

      const { subtotal, gst, service, total } = calcTotals();
      subTotalEl.textContent = money(subtotal);
      gstEl.textContent = money(gst);
      serviceEl.textContent = money(service);
      grandTotalEl.textContent = money(total);
    }

    // --------- MODE TOGGLE ----------
    modeBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        modeBtns.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        mode = btn.dataset.mode;

        if(mode === "Dine-in"){
          tableLabel.textContent = "Table No.";
          tableRoomEl.placeholder = "e.g., 12";
        }else{
          tableLabel.textContent = "Room / Pickup";
          tableRoomEl.placeholder = "e.g., 508 / Counter";
        }
      });
    });

    // --------- BILL GENERATION ----------
    function generateBill(){
      const entries = Object.entries(cart);
      if(entries.length === 0){
        showToast("Add items first üôÇ");
        return;
      }

      const customer = customerNameEl.value.trim() || "Guest";
      const tableRoom = tableRoomEl.value.trim() || (mode === "Dine-in" ? "‚Äî" : "‚Äî");
      const { subtotal, gst, service, total } = calcTotals();

      const lines = entries.map(([id, qty]) => {
        const item = MENU.find(x => x.id === id);
        return `${item.name}  x${qty}  =  ${money(item.price * qty)}`;
      }).join("\n");

      const billText =
`THE ROYALE HOTEL ‚Äî BILL
----------------------------
Mode: ${mode}
${mode === "Dine-in" ? "Table" : "Room/Pickup"}: ${tableRoom}
Customer: ${customer}

Items:
${lines}

----------------------------
Subtotal: ${money(subtotal)}
GST (5%): ${money(gst)}
Service (7%): ${money(service)}
TOTAL: ${money(total)}
----------------------------
Thank you! Visit again ‚ú®`;

      // Open printable window (simple UI)
      const w = window.open("", "_blank");
      w.document.write(`
        <pre style="font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
                    white-space: pre-wrap; padding: 18px; line-height: 1.4;">
${billText.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")}
        </pre>
        <script>window.print();<\/script>
      `);
      w.document.close();
    }

    // --------- EVENTS ----------
    searchEl.addEventListener("input", renderMenu);
    vegOnlyEl.addEventListener("change", renderMenu);

    resetBtn.addEventListener("click", () => {
      activeCat = "All";
      searchEl.value = "";
      vegOnlyEl.checked = false;
      renderChips();
      renderMenu();
      showToast("Filters reset ‚úÖ");
    });

    demoBtn.addEventListener("click", () => {
      ["b1","l2","dr1"].forEach(addToCart);
      showToast("Demo items added üçΩÔ∏è");
    });

    clearBtn.addEventListener("click", clearCart);
    printBtn.addEventListener("click", generateBill);

    // --------- INIT ----------
    renderChips();
    renderMenu();
    renderCart();
  </script>
</body>
</html>
``
